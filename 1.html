<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>№1,2</title>
<!-- Для реализации данные парсятся с сайта с помощью puppeteer -->
</head>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
    *{
        font-family: 'Poppins', sans serif;
    }
    body{
        background-image: url("./img.jpg");
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        background-attachment: fixed;
    }
    .box{
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 90vh;
    }
    .container{
        width: 350px;
        display: flex;
        flex-direction: column;
        padding: 0 15px 0 15px;
    }
    .input-field .input{
        height: 45px;
        width: 80%;
        font-size: 20px;
        border: none;
        outline: none;
        border-radius: 30px;
        color: #fff;
        padding-left: 40px;
        background: rgba(255,255,255,0.1);
    }
    ::-webkit-input-placeholder{
        color: #ffffff;
    }
    .submit{
        margin-top: 20px;
        border: none;
        border-radius: 30px;
        font-size: 20px;
        height: 45px;
        outline: none;
        width: 95%;
        color: rgb(221, 202, 115);
        background: rgba(255,255,255,0.7);
        cursor: pointer;
        transition: .3s;
    }
    .submit:hover{
        box-shadow: 1px 5px 7px 1px rgba(0, 0, 0, 0.2);
    }
    .par{
        height: 45px;
        width: 87%;
        font-size: 17px;
        line-height: 1.2em;
        border: none;
        outline: none;
        border-radius: 30px;
        color: #ffffff;
        padding-top: 10px;
        padding-left: 20px;
        background: rgba(62, 132, 165, 0.8);
    }
    </style>

<body>
    <div class="box">
        <div class="container">
        <form action="" class="btn">
            <div class="input-field">
        <input type="text" placeholder="Введите название тега" class="input">
        </div>
        <button class="submit">Поиск</button>
    </form>
    <p class="par"></p>
    </div>
    </div>
    
    <script>
    const input = document.querySelector('.input');
    const paragraph = document.querySelector('.par');
    const submitBtn = document.querySelector('.btn');

//Пытался максимально функциями писать, но из-за
//ассинхронного запроса к JSON пришлось почти все 
// запихнуть в событие submit для обработки запроса при нажатии

//Если можно как-то более цивильно, подскажи, пожалуйста ))

    function clickHandler(){
    //Строка очищается от пред. поиска при нажатии на инпут
        paragraph.innerHTML = '';
    }

    function submitHandler(e){
        e.preventDefault();
  
    fetch('1.json')
    .then(function (response) {
        return response.json();
    })
    .then(function (data) {
        appendData(data)
        
    })
    .catch(function (err) {
        console.log('error: ' + err);
    });

    function appendData(data){
    const results = new Array();
    for (index = 0; index < data.length; index++) {
            if(data[index].tagNameUpdated == input.value){
                results.push(data[index].meaning);
            }        
    }
    if (results.length) {
        const response = document.createElement('div');
        //Очищаю строку JSON от кавычек и скобок
        response.innerHTML = JSON.stringify(results).replace(/[\[\]']+/g,'').replace(/["']/g,"");
        paragraph.append(response)
      } else {
        const response = document.createElement('div');
        response.innerHTML = 'Такого тега не существует, попробуйте еще раз';
        paragraph.append(response)
      }
    }
}
submitBtn.addEventListener('submit', submitHandler);
input.addEventListener('click',clickHandler);
    </script>
    

</body>
</html>